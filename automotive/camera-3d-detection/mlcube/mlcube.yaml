name: BEVFormer
description: ABTF 3D Object Detection Benchmark
authors:
  - { name: "MLCommons Best Practices Working Group" }

platform:
  accelerator_count: 1

docker:
  image: mlcommons/bevformer:0.0.1
  build_context: ".."
  build_file: "dockerfile"
  gpu_args: "--gpus=all --shm-size=2g"

tasks:
  download_demo:
    entrypoint: ./scripts/download_demo.sh -a
    parameters:
      inputs:
        rclone_config: rclone.conf
      outputs:
        data_path: demo_data/
        model_path: models/
  demo:
      entrypoint: ./scripts/run_demo.sh -a
      parameters:
        inputs:
          data_path: demo_data/
          model_path: models/
        outputs:
          log_dir: demo_logs/